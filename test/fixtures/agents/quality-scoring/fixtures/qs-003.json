{
  "id": "qs-003",
  "name": "Atom with implementation detail leakage",
  "atom": {
    "description": "The UserRepository.save() method calls prisma.user.create() with the DTO fields mapped to snake_case columns and wraps the result in a UserEntity instance",
    "category": "functional",
    "confidence": 80,
    "observableOutcomes": [
      "prisma.user.create() is invoked exactly once with the mapped DTO",
      "The returned UserEntity has its id field set from the Prisma auto-increment",
      "TypeORM transaction decorator ensures rollback on constraint violation"
    ],
    "reasoning": "Extracted from user.repository.spec.ts: the test mocks the Prisma client and TypeORM transaction manager, verifying internal method calls and ORM-specific return shapes. Every outcome references implementation internals rather than user-observable behavior.",
    "sourceTestFilePath": "test/user.repository.spec.ts",
    "sourceTestName": "should call prisma.user.create and wrap result in UserEntity"
  },
  "expectedScore": {
    "minScore": 30,
    "maxScore": 70,
    "shouldPass": false
  }
}
